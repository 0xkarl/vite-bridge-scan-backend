!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("$vite_HTTP",[],t):"object"==typeof exports?exports.$vite_HTTP=t():e.$vite_HTTP=t()}(this,(function(){return function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=414)}({108:function(e,t){e.exports=require("url")},160:function(e,t){e.exports=require("http")},161:function(e,t){e.exports=require("https")},30:function(e,t,r){"use strict";var s={CONNECT:function(e){return new Error("CONNECTION ERROR: Couldn't connect to node ".concat(e,"."))},ABORT:function(){return new Error("ABORT ERROR: Request already aborted.")},PARAMS:function(){return new Error("PARAMS ERROR.")},TIMEOUT:function(e){return new Error("CONNECTION TIMEOUT: timeout of ".concat(e," ms achived"))},INVAILID_RESPONSE:function(e){return new Error("Invalid JSON RPC response: ".concat(JSON.stringify(e)))},IPC_ON:function(e){return new Error("Invalid IPC event on: ".concat(JSON.stringify(e)))},IPC_ON_CB:function(e){return new Error("The IPC on event ".concat(JSON.stringify(e),", cb is necessary"))}};function n(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var o=r(57),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ERRORS=s,this.jsonrpc=o,this._requestManager={},this._requestId=0}var t,r,i;return t=e,(r=[{key:"abort",value:function(){var e=this;Object.values(this._requestManager).forEach((function(t){var r=t.request,s=t.rej;r.abort(),s(e.ERRORS.ABORT())})),this._requestManager={}}},{key:"_addReq",value:function(e){var t=e.request,r={request:t,rej:e.rej};return this._requestManager[t.id]=r,r}},{key:"_removeReq",value:function(e){delete this._requestManager[e.request.id]}},{key:"_getRequestPayload",value:function(e,t){return e?(this._requestId++,this.jsonrpc.request(this._requestId,e,t)):s.PARAMS()}},{key:"_getNotificationPayload",value:function(e,t){return e?this.jsonrpc.notification(e,t):s.PARAMS()}},{key:"_getBatchPayload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e||!e.length)return s.PARAMS();for(var t=[],r=0;r<e.length;r++){var n=e[r];if(!n||!n.type||"request"!==n.type&&"notification"!==n.type)return s.PARAMS();var o="notification"===n.type?this._getNotificationPayload(n.methodName,n.params):this._getRequestPayload(n.methodName,n.params);if(o instanceof Error)return o;t.push(o)}return t}}])&&n(t.prototype,r),i&&n(t,i),e}();t.a=i},414:function(e,t,r){"use strict";r.r(t),r.d(t,"HTTP_RPC",(function(){return p}));var s=r(30);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,s=h(e);if(t){var n=h(this).constructor;r=Reflect.construct(s,arguments,n)}else r=s.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c="undefined"!=typeof window&&window.XMLHttpRequest?window.XMLHttpRequest:r(415),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,r,s,n=u(l);function l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost:8415",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e4,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{headers:[]};return o(this,l),(e=n.call(this)).type="http",e.host=t,e.timeout=r,e.headers=s.headers,e.requestId=0,e}return t=l,(r=[{key:"_getRequest",value:function(){var e=new c;return e.open("POST",this.host),e.setRequestHeader("Content-Type","application/json;charset=utf-8"),this.headers&&this.headers.forEach((function(t){e.setRequestHeader(t.name,t.value)})),e.id=this.requestId++,e}},{key:"_send",value:function(e){var t=this;return new Promise((function(r,s){var n=!1,o=t._getRequest(),i=t._addReq({request:o,rej:function(e){n=!0,s(e)}}),a=function(){u&&clearTimeout(u),u=null,t._removeReq(i)},u=t.timeout?setTimeout((function(){if(!n)return o.abort(),a(),s(t.ERRORS.TIMEOUT(t.timeout))}),t.timeout):null;o.onreadystatechange=function(){if(4===o.readyState&&!n){a();var e=o.responseText;try{if((e=e?JSON.parse(e):null)&&e.error)return s(e)}catch(r){return s(t.ERRORS.INVAILID_RESPONSE(e))}return r(e)}};try{o.send(JSON.stringify(e))}catch(e){return a(),s(t.ERRORS.CONNECT(t.host))}}))}},{key:"request",value:function(e,t){var r=this,s=this._getRequestPayload(e,t);return s instanceof Error?Promise.reject(s):this._send(s).then((function(e){if(!e)throw r.ERRORS.INVAILID_RESPONSE(e);return{result:e.result||null,error:e.error||null}}))}},{key:"sendNotification",value:function(e,t){var r=this._getNotificationPayload(e,t);return r instanceof Error?Promise.reject(r):this._send(r)}},{key:"batch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this._getBatchPayload(e);return t instanceof Error?Promise.reject(t):this._send(t).then((function(e){e=(e||[]).sort((function(e,t){return e.id-t.id}));var r=[],s=0;return t.forEach((function(t){t.id?(r.push({result:e&&e[s]&&e[s].result||null,error:e&&e[s]&&e[s].error||null}),s++):r.push(null)})),e=null,t=null,r}))}}])&&i(t.prototype,r),s&&i(t,s),l}(s.a);t.default=p},415:function(e,t,r){(function(){var t,s,n,o,i,a,u,l,h,c,p,d;u=function(){class e{constructor(){this.onloadstart=null,this.onprogress=null,this.onabort=null,this.onerror=null,this.onload=null,this.ontimeout=null,this.onloadend=null,this._listeners={}}addEventListener(e,t){var r;e=e.toLowerCase(),(r=this._listeners)[e]||(r[e]=[]),this._listeners[e].push(t)}removeEventListener(e,t){var r;e=e.toLowerCase(),this._listeners[e]&&-1!==(r=this._listeners[e].indexOf(t))&&this._listeners[e].splice(r,1)}dispatchEvent(e){var t,r,s,n,o;if(e.currentTarget=e.target=this,t=e.type,o=this._listeners[t])for(r=0,s=o.length;r<s;r++)(n=o[r]).call(this,e);(n=this["on"+t])&&n.call(this,e)}}return e.prototype.onloadstart=null,e.prototype.onprogress=null,e.prototype.onabort=null,e.prototype.onerror=null,e.prototype.onload=null,e.prototype.ontimeout=null,e.prototype.onloadend=null,e}.call(this),h=r(160),c=r(161),p=r(416),d=r(108),a=function(){class e extends u{constructor(t){super(),this.onreadystatechange=null,this._anonymous=t&&t.anon,this.readyState=e.UNSENT,this.response=null,this.responseText="",this.responseType="",this.responseURL="",this.status=0,this.statusText="",this.timeout=0,this.upload=new l(this),this._method=null,this._url=null,this._sync=!1,this._headers=null,this._loweredHeaders=null,this._mimeOverride=null,this._request=null,this._response=null,this._responseParts=null,this._responseHeaders=null,this._aborting=null,this._error=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1}open(t,r,s,n,i){var a;if((t=t.toUpperCase())in this._restrictedMethods)throw new o(`HTTP method ${t} is not allowed in XHR`);switch(a=this._parseUrl(r),void 0===s&&(s=!0),this.readyState){case e.UNSENT:case e.OPENED:case e.DONE:break;case e.HEADERS_RECEIVED:case e.LOADING:}this._method=t,this._url=a,this._sync=!s,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(e.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1}setRequestHeader(r,s){var n;if(this.readyState!==e.OPENED)throw new t("XHR readyState must be OPENED");n=r.toLowerCase(),this._restrictedHeaders[n]||/^sec\-/.test(n)||/^proxy-/.test(n)?console.warn(`Refused to set unsafe header "${r}"`):(s=s.toString(),n in this._loweredHeaders?(r=this._loweredHeaders[n],this._headers[r]=this._headers[r]+", "+s):(this._loweredHeaders[n]=r,this._headers[r]=s))}send(r){if(this.readyState!==e.OPENED)throw new t("XHR readyState must be OPENED");if(this._request)throw new t("send() already called");switch(this._url.protocol){case"file:":this._sendFile(r);break;case"http:":case"https:":this._sendHttp(r);break;default:throw new s("Unsupported protocol "+this._url.protocol)}}abort(){this._request&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))}getResponseHeader(e){var t;return this._responseHeaders&&(t=e.toLowerCase())in this._responseHeaders?this._responseHeaders[t]:null}getAllResponseHeaders(){var e,t;return this._responseHeaders?function(){var r,s;for(e in s=[],r=this._responseHeaders)t=r[e],s.push(`${e}: ${t}`);return s}.call(this).join("\r\n"):""}overrideMimeType(r){if(this.readyState===e.LOADING||this.readyState===e.DONE)throw new t("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=r.toLowerCase()}nodejsSet(e){var t;if("httpAgent"in e&&(this.nodejsHttpAgent=e.httpAgent),"httpsAgent"in e&&(this.nodejsHttpsAgent=e.httpsAgent),"baseUrl"in e){if(null!==(t=e.baseUrl)&&!d.parse(t,!1,!0).protocol)throw new i("baseUrl must be an absolute URL");this.nodejsBaseUrl=t}}static nodejsSet(t){e.prototype.nodejsSet(t)}_setReadyState(e){var t;this.readyState=e,t=new n("readystatechange"),this.dispatchEvent(t)}_sendFile(){if("GET"!==this._url.method)throw new s("The file protocol only supports GET");throw new Error("Protocol file: not implemented")}_sendHttp(e){if(this._sync)throw new Error("Synchronous XHR processing not implemented");null==e||"GET"!==this._method&&"HEAD"!==this._method?e||(e=""):(console.warn(`Discarding entity body for ${this._method} requests`),e=null),this.upload._setData(e),this._finalizeHeaders(),this._sendHxxpRequest()}_sendHxxpRequest(){var e,t,r;"http:"===this._url.protocol?(t=h,e=this.nodejsHttpAgent):(t=c,e=this.nodejsHttpsAgent),r=t.request({hostname:this._url.hostname,port:this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:e}),this._request=r,this.timeout&&r.setTimeout(this.timeout,()=>this._onHttpTimeout(r)),r.on("response",e=>this._onHttpResponse(r,e)),r.on("error",e=>this._onHttpRequestError(r,e)),this.upload._startUpload(r),this._request===r&&this._dispatchProgress("loadstart")}_finalizeHeaders(){this._headers.Connection="keep-alive",this._headers.Host=this._url.host,this._anonymous&&(this._headers.Referer="about:blank"),this._headers["User-Agent"]=this._userAgent,this.upload._finalizeHeaders(this._headers,this._loweredHeaders)}_onHttpResponse(t,r){var s;if(this._request===t){switch(r.statusCode){case 301:case 302:case 303:case 307:case 308:return this._url=this._parseUrl(r.headers.location),this._method="GET","content-type"in this._loweredHeaders&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),"Content-Type"in this._headers&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),void this._sendHxxpRequest()}return this._response=r,this._response.on("data",e=>this._onHttpResponseData(r,e)),this._response.on("end",()=>this._onHttpResponseEnd(r)),this._response.on("close",()=>this._onHttpResponseClose(r)),this.responseURL=this._url.href.split("#")[0],this.status=this._response.statusCode,this.statusText=h.STATUS_CODES[this.status],this._parseResponseHeaders(r),(s=this._responseHeaders["content-length"])?(this._totalBytes=parseInt(s),this._lengthComputable=!0):this._lengthComputable=!1,this._setReadyState(e.HEADERS_RECEIVED)}}_onHttpResponseData(t,r){if(this._response===t)return this._responseParts.push(r),this._loadedBytes+=r.length,this.readyState!==e.LOADING&&this._setReadyState(e.LOADING),this._dispatchProgress("progress")}_onHttpResponseEnd(t){if(this._response===t)return this._parseResponse(),this._request=null,this._response=null,this._setReadyState(e.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend")}_onHttpResponseClose(t){var r;if(this._response===t)return r=this._request,this._setError(),r.abort(),this._setReadyState(e.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}_onHttpTimeout(t){if(this._request===t)return this._setError(),t.abort(),this._setReadyState(e.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend")}_onHttpRequestError(t,r){if(this._request===t)return this._setError(),t.abort(),this._setReadyState(e.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}_dispatchProgress(e){var t;(t=new n(e)).lengthComputable=this._lengthComputable,t.loaded=this._loadedBytes,t.total=this._totalBytes,this.dispatchEvent(t)}_setError(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null}_parseUrl(e){var t,r,s,n,o;return t=null===this.nodejsBaseUrl?e:d.resolve(this.nodejsBaseUrl,e),(o=d.parse(t,!1,!0)).hash=null,!o.auth||null==n&&null==s||(-1===(r=o.auth.indexOf(":"))?n||(n=o.auth):(n||(n=o.substring(0,r)),s||(s=o.substring(r+1)))),(n||s)&&(o.auth=`${n}:${s}`),o}_parseResponseHeaders(e){var t,r,s,n;for(r in this._responseHeaders={},s=e.headers)n=s[r],t=r.toLowerCase(),this._privateHeaders[t]||(null!==this._mimeOverride&&"content-type"===t&&(n=this._mimeOverride),this._responseHeaders[t]=n);null===this._mimeOverride||"content-type"in this._responseHeaders||(this._responseHeaders["content-type"]=this._mimeOverride)}_parseResponse(){var e,t,r,s,n,o;switch(t=Buffer.concat?Buffer.concat(this._responseParts):this._concatBuffers(this._responseParts),this._responseParts=null,this.responseType){case"text":this._parseTextResponse(t);break;case"json":this.responseText=null;try{this.response=JSON.parse(t.toString("utf-8"))}catch(e){e,this.response=null}break;case"buffer":this.responseText=null,this.response=t;break;case"arraybuffer":for(this.responseText=null,e=new ArrayBuffer(t.length),o=new Uint8Array(e),r=s=0,n=t.length;0<=n?s<n:s>n;r=0<=n?++s:--s)o[r]=t[r];this.response=e;break;default:this._parseTextResponse(t)}}_parseTextResponse(e){try{this.responseText=e.toString(this._parseResponseEncoding())}catch(t){t,this.responseText=e.toString("binary")}this.response=this.responseText}_parseResponseEncoding(){var e,t;return null,(e=this._responseHeaders["content-type"])&&(t=/\;\s*charset\=(.*)$/.exec(e))?t[1]:"utf-8"}_concatBuffers(e){var t,r,s,n,o,i,a;if(0===e.length)return Buffer.alloc(0);if(1===e.length)return e[0];for(i=0,r=0,n=e.length;r<n;r++)i+=(t=e[r]).length;for(a=Buffer.alloc(i),i=0,s=0,o=e.length;s<o;s++)(t=e[s]).copy(a,i),i+=t.length;return a}}return e.prototype.onreadystatechange=null,e.prototype.readyState=null,e.prototype.response=null,e.prototype.responseText=null,e.prototype.responseType=null,e.prototype.status=null,e.prototype.timeout=null,e.prototype.upload=null,e.prototype.UNSENT=0,e.UNSENT=0,e.prototype.OPENED=1,e.OPENED=1,e.prototype.HEADERS_RECEIVED=2,e.HEADERS_RECEIVED=2,e.prototype.LOADING=3,e.LOADING=3,e.prototype.DONE=4,e.DONE=4,e.prototype.nodejsHttpAgent=h.globalAgent,e.prototype.nodejsHttpsAgent=c.globalAgent,e.prototype.nodejsBaseUrl=null,e.prototype._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},e.prototype._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},e.prototype._privateHeaders={"set-cookie":!0,"set-cookie2":!0},e.prototype._userAgent=`Mozilla/5.0 (${p.type()} ${p.arch()}) node.js/${process.versions.node} v8/${process.versions.v8}`,e}.call(this),e.exports=a,a.XMLHttpRequest=a,o=class extends Error{constructor(){super()}},a.SecurityError=o,t=class extends Error{constructor(){super()}},t=class extends Error{},a.InvalidStateError=t,s=class extends Error{constructor(){super()}},a.SyntaxError=i,i=class extends Error{constructor(){super()}},n=function(){class e{constructor(e){this.type=e,this.target=null,this.currentTarget=null,this.lengthComputable=!1,this.loaded=0,this.total=0}}return e.prototype.bubbles=!1,e.prototype.cancelable=!1,e.prototype.target=null,e.prototype.loaded=null,e.prototype.lengthComputable=null,e.prototype.total=null,e}.call(this),a.ProgressEvent=n,l=class extends u{constructor(e){super(),this._request=e,this._reset()}_reset(){this._contentType=null,this._body=null}_setData(e){var t,r,s,n,o,i,a,u;if(null!=e)if("string"==typeof e)0!==e.length&&(this._contentType="text/plain;charset=UTF-8"),this._body=Buffer.from(e,"utf8");else if(Buffer.isBuffer(e))this._body=e;else if(e instanceof ArrayBuffer){for(t=Buffer.alloc(e.byteLength),u=new Uint8Array(e),r=s=0,i=e.byteLength;0<=i?s<i:s>i;r=0<=i?++s:--s)t[r]=u[r];this._body=t}else{if(!(e.buffer&&e.buffer instanceof ArrayBuffer))throw new Error("Unsupported send() data "+e);for(t=Buffer.alloc(e.byteLength),o=e.byteOffset,u=new Uint8Array(e.buffer),r=n=0,a=e.byteLength;0<=a?n<a:n>a;r=0<=a?++n:--n)t[r]=u[r+o];this._body=t}}_finalizeHeaders(e,t){this._contentType&&("content-type"in t||(e["Content-Type"]=this._contentType)),this._body&&(e["Content-Length"]=this._body.length.toString())}_startUpload(e){this._body&&e.write(this._body),e.end()}},a.XMLHttpRequestUpload=l}).call(this)},416:function(e,t){e.exports=require("os")},57:function(e,t,r){var s,n,o,i,a=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});!function(i){if("object"==typeof e.exports){var a=i(r(58),t);void 0!==a&&(e.exports=a)}else n=[r,t],void 0===(o="function"==typeof(s=i)?s.apply(t,n):s)||(e.exports=o)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.prototype.hasOwnProperty,s="function"==typeof Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&e===Math.floor(e)&&Math.abs(e)<=9007199254740991},n=function(){function e(){this.jsonrpc="2.0"}return e.prototype.serialize=function(){return JSON.stringify(this)},e.VERSION="2.0",e}();t.JsonRpc=n;var o=function(e){function t(t,r,s){var n=e.call(this)||this;return n.id=t,n.method=r,void 0!==s&&(n.params=s),n}return a(t,e),t}(n);t.RequestObject=o;var i=function(e){function t(t,r){var s=e.call(this)||this;return s.method=t,void 0!==r&&(s.params=r),s}return a(t,e),t}(n);t.NotificationObject=i;var u=function(e){function t(t,r){var s=e.call(this)||this;return s.id=t,s.result=r,s}return a(t,e),t}(n);t.SuccessObject=u;var l=function(e){function t(t,r){var s=e.call(this)||this;return s.id=t,s.error=r,s.id=t,s.error=r,s}return a(t,e),t}(n);t.ErrorObject=l;var h=function(e,t){this.payload=e,this.type=t,this.payload=e,this.type=t};t.JsonRpcParsed=h;var c=function(){function e(e,t,r){this.message=e,this.code=s(t)?t:0,null!=r&&(this.data=r)}return e.invalidRequest=function(t){return new e("Invalid request",-32600,t)},e.methodNotFound=function(t){return new e("Method not found",-32601,t)},e.invalidParams=function(t){return new e("Invalid params",-32602,t)},e.internalError=function(t){return new e("Internal error",-32603,t)},e.parseError=function(t){return new e("Parse error",-32700,t)},e}();function p(e,t,r){var s=new o(e,t,r);return E(s,!0),s}function d(e,t){var r=new i(e,t);return E(r,!0),r}function f(e,t){var r=new u(e,t);return E(r,!0),r}function _(e,t){var r=new l(e,t);return E(r,!0),r}function y(e){if(!O(e))return new h(c.invalidRequest(e),"invalid");var t;try{t=JSON.parse(e)}catch(t){return new h(c.parseError(e),"invalid")}return v(t)}function v(e){if(!Array.isArray(e))return g(e);if(0===e.length)return new h(c.invalidRequest(e),"invalid");for(var t=[],r=0,s=e.length;r<s;r++)t[r]=g(e[r]);return t}function g(e){var t=null,s=null,a="invalid";if(null==e||e.jsonrpc!==n.VERSION)t=c.invalidRequest(e),a="invalid";else if(r.call(e,"id")){if(r.call(e,"method")){t=E(s=new o((d=e).id,d.method,d.params)),a="request"}else if(r.call(e,"result")){t=E(s=new u((d=e).id,d.result)),a="success"}else if(r.call(e,"error")){if(a="error",null==(d=e).error)t=c.internalError(d);else{var p=new c(d.error.message,d.error.code,d.error.data);t=p.message!==d.error.message||p.code!==d.error.code?c.internalError(d):E(s=new l(d.id,p))}}}else{var d;t=E(s=new i((d=e).method,d.params)),a="notification"}return null==t&&null!=s?new h(s,a):new h(null!=t?t:c.invalidRequest(e),"invalid")}function E(e,t){var r=null;if(e instanceof o?(null==(r=R(e.id))&&(r=b(e.method)),null==r&&(r=m(e.params))):e instanceof i?null==(r=b(e.method))&&(r=m(e.params)):e instanceof u?null==(r=R(e.id))&&(r=void 0===e.result?c.internalError("Result must exist for success Response objects"):null):e instanceof l&&null==(r=R(e.id,!0))&&(r=function(e){if(!(e instanceof c))return c.internalError("Error must be an instance of JsonRpcError");if(!s(e.code))return c.internalError("Invalid error code. It must be an integer.");if(!O(e.message))return c.internalError("Message must exist or must be a string.");return null}(e.error)),t&&null!=r)throw r;return r}function R(e,t){return t&&null===e||O(e)||s(e)?null:c.internalError('"id" must be provided, a string or an integer.')}function b(e){return O(e)?null:c.invalidRequest(e)}function m(e){if(void 0===e)return null;if(Array.isArray(e)||null!=(t=e)&&"object"==typeof t&&!Array.isArray(t))try{return JSON.stringify(e),null}catch(t){return c.parseError(e)}var t;return c.invalidParams(e)}function O(e){return""!==e&&"string"==typeof e}t.JsonRpcError=c,t.request=p,t.notification=d,t.success=f,t.error=_,t.parse=y,t.parseJsonRpcObject=v,t.parseJsonRpcString=y,t.parseObject=g;var w={JsonRpc:n,JsonRpcError:c,request:p,notification:d,success:f,error:_,parse:y,parseObject:g,parseJsonRpcObject:v,parseJsonRpcString:t.parseJsonRpcString};t.jsonrpc=w,t.default=w}))},58:function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=58}})}));